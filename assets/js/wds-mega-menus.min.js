!function(global){"use strict";function WDS_Mega_Menu(){if(WDS_Mega_Menu.prototype._singleton)return WDS_Mega_Menu.prototype._singleton;WDS_Mega_Menu.prototype._singleton=this;var me=this;this.renderMediaUploader=function(element_id){var file_frame;return me.target_element=element_id,void 0!==file_frame?void file_frame.open():(file_frame=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:!1}),file_frame.on("insert",me.insert_image),void file_frame.open())},this.resetUploadForm=function(element_id){$("#menu-item-image-container-"+element_id).children("img").hide(),$("#menu-item-image-container-"+element_id).prev().show(),$("#menu-item-image-container-"+element_id).next().hide().addClass("hidden"),jQuery("#menu-item-image-"+element_id).val("")},this.renderFeaturedImage=function(element_id){""!==$.trim($("#menu-item-image-"+element_id).val())&&($("#menu-item-image-container-"+element_id).removeClass("hidden"),$("#set-menu-item-image-"+element_id).parent().hide(),$("#remove-menu-item-image-"+element_id).parent().removeClass("hidden"))},this.insert_image=function(){var file_frame=wp.media.frames.file_frame,json=file_frame.state().get("selection").first().toJSON();0>jQuery.trim(json.url.length)||(jQuery("#menu-item-image-container-"+me.target_element).children("img").attr({src:json.url,alt:json.caption,title:json.title}).show().parent().removeClass("hidden"),jQuery("#menu-item-image-"+me.target_element).val(json.id),jQuery("#menu-item-image-container-"+me.target_element).prev().hide(),jQuery("#menu-item-image-container-"+me.target_element).next().show())}}var $=$||jQuery;global.WDS=global.WDS||{},global.WDS.MegaMenu=new WDS_Mega_Menu}(window);